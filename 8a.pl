chop(@_ = <STDIN>);
for (0 .. $#_) {
  if ($_[$_] =~ /\S/) {
    $r[$_] = [split(//, $_[$_])];
  }
}

for $r (0 .. $#_) {
  $ml = $mr = -1;
  for $c (0 .. $#{$r[$r]}) {
    if ($r[$r]->[$c] > $ml) {
      last if $v[$r][$c];
      $ml = $r[$r]->[$c];
      $s++;
      $v[$r][$c] = 1;
    }
    if ($r[$r]->[$#{$r[$r]} - $c] > $mr) {
      last if $v[$r][$#{$r[$r]} - $c];
      $mr = $r[$r]->[$#{$r[$r]} - $c];
      $s++;
      $v[$r][$#{$r[$r]} - $c] = 1;
    }
  }
}

for $c (0 .. $#{$r[0]}) {
  $mt = $mb = -1;
  for $r (0 .. $#_) {
    if ($r[$r]->[$c] > $mt) {
      $mt = $r[$r]->[$c];
      unless ($v[$r][$c]) {
        $s++;
        $v[$r][$c] = 1;
      }
    }
    if ($r[$#_ - $r]->[$c] > $mb) {
      $mb = $r[$#_ - $r]->[$c];
      unless ($v[$#_ - $r][$c]) {
        $s++;
        $v[$#_ - $r][$c] = 1;
      }
    }
  }
}

print $s;
